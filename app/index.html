<!DOCTYPE html>
<html>
<head>
  <title>Perl Maven's view of CPAN</title>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/handlebars.js/3.0.2/handlebars.min.js"></script>
  <script src="https://code.jquery.com/jquery-2.1.4.min.js"></script>
  <script src="/metacpan.js"></script>
  <link rel="stylesheet" href="style.css">

<script id="error-template" type="text/x-handlebars-template">
  Error. {{code}}
</script>

<script id="release-template" type="text/x-handlebars-template">
  <div class="entry">
    <h2><a href="#" class="author" data-author="{{author}}">{{author}}</a> {{name}} {{date}}</h2>
  </div>
  <div class="repository">
    <a target="_blank" href="{{resources.repository.web}}">{{resources.repository.type}}</a>
  </div>

  {{#unless authorized}}
    <div class="warn">Unauthorized release</div>
  {{/unless}}

  <div class="license">
     License: {{license}}
  </div>

  <h2>Provides</h2>
  {{#each provides}}
      <a href="#" class="module">{{lookup ../provides @index}}</a><br>
  {{/each}}

</script>

<script id="home-template" type="text/x-handlebars-template">
  <h2>Perl Maven's view of CPAN</h2>
</script>



<script id="recent-template" type="text/x-handlebars-template">
  <ul>
    {{#each hits.hits}}
      <li>
        <a href="#" class="release" data-distribution="{{fields.distribution}}">{{fields.name}}</a><br>
        {{fields.abstract}}<br>
        {{fields.date}}<br>
        {{#iff fields.status '!=' 'latest'}}<b>{{fields.status}}</b>{{/iff}}<br>
      </li>
    {{/each}}
  </ul>

</script>


<script id="author-template" type="text/x-handlebars-template">
  <h2>{{name}} ({{pauseid}})</h2>
  <img src="{{gravatar_url}}" alt="{{name}}" /><br>
  {{#each website}}
    <a target="_blanket" href="{{this}}">{{this}}</a><br>
  {{/each}}
  
  {{#if profile}}
    <h3>Profiles</h3>
    {{#each profile}}
       {{#if url}}
          <a target="_blank" href="{{url}}">{{name}}</a><br>
       {{else}}
          {{name}} {{id}}<br>
       {{/if}}
    {{/each}}
  {{/if}}

  {{#if blog}}
    <h3>Blog</h3>
    {{#each blog}}
       <a target="_blank" href="{{url}}">{{url}}</a> <a target="_blank" href="{{feed}}">feed</a><br>
    {{/each}}
  {{/if}}
</script>

<script id="leaderboard-template" type="text/x-handlebars-template">
  <h2>Leaderboard - Authors with Most Uploads</h2>
  <ul>
  {{#each facets.author.terms }}
    <li><a href="#" class="author" data-author="{{term}}" >{{term}}</a> {{count}}</li>
  {{/each}}
  </ul>
</script>

</head>
<body>

<a href="#" id="home">home</a> | <a href="#" id="recent">recent</a> | <a href="#" id="leaderboard">leaderboard</a> | <a href="#" id="profiles">profiles</a>

<p>Find a solution in Perl</p>
<p><input type="text" id="query"><button id="search">Search</button></p>
<hr>

<div id="result">
</div>


</body>
</html>

